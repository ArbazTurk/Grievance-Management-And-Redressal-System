import{_ as E,m as U,a as b,b as _,c as L,d as D,r as t,o as f,w as o,e as s,f as P,g as l,h as T,t as N,i as R,T as M}from"./index-C_9mUXb4.js";var y={ALLUSERSPROFILE:"C:\\ProgramData",AMDRMSDKPATH:"C:\\Program Files\\AMD\\RyzenMasterSDK\\",APPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming","asl.log":"Destination=file",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133418318008429188",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_33368_PPUCGOMKQMJFBSQO",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-DHE2J88U",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_12164:"1",GH_TOKEN:"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",GIT_ASKPASS:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",INIT_CWD:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-DHE2J88U",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",npm_config_node_gyp:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\package.json",npm_package_name:"@rd/grievence",npm_package_version:"1.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OneDriveConsumer:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OnlineServices:"Online Services",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:'C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Program Files\\HP\\HP One Agent;C:\\Program Files\\MongoDB\\Server\\7.0\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin;C:\\Program Files\\Java\\jdk-18.0.2.1;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\Scripts;C:\\platform-tools_r34.0.4-windows\\platform-tools;"C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin;";C:\\Program Files\\mongosh\\;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm',PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",platformcode:"KV",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"5000",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RegionCode:"APJ",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"0.40.4",TMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-DHE2J88U",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-DHE2J88U",USERNAME:"Arbaz Khan",USERPROFILE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-3a6143f334-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",PORT:"3000",BASE_API:"http://localhost:3001"};const I={name:"ViewProfile",data(){return{user:{firstName:"",lastName:"",email:"",mobileNo:"",profilePhoto:""},successMessage:"",profilePhotoUrl:"",isSaving:!1}},computed:{...U(["_id","token"])},methods:{...b(["setProfilePhoto"]),async fetchUserProfile(){try{let a=y.BASE_API+"/get/user/"+this._id;const e=await _.get(a,{headers:{Authorization:`Bearer ${this.token}`}});this.user=e.data,this.profilePhotoUrl=this.user.profilePhoto||L}catch(a){console.error(a)}},previewProfilePhoto(a){const e=a.target.files[0];if(e){const d=new FileReader;d.onload=c=>{this.user.profilePhoto=c.target.result,this.profilePhotoUrl=c.target.result},d.readAsDataURL(e)}},async updateProfile(){this.isSaving=!0;try{const a=new FormData;a.append("firstName",this.user.firstName),a.append("lastName",this.user.lastName),a.append("email",this.user.email),a.append("mobileNo",this.user.mobileNo),this.$refs.file.files[0]?a.append("file",this.$refs.file.files[0]):a.append("profilePhoto",this.user.profilePhoto),(await _.put(`http://localhost:3001/edit/user-profile/${this._id}`,a,{headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"multipart/form-data"}})).status===200&&(this.setProfilePhoto(this.user.profilePhoto),this.successMessage="Profile updated successfully!",setTimeout(()=>{this.successMessage=""},2e3))}catch(a){console.error(a)}finally{this.isSaving=!1}}},mounted(){this.fetchUserProfile()}},H={class:"profile-photo-container"},v=["src"];function F(a,e,d,c,r,A){const i=t("CCol"),g=t("CRow"),C=t("CIcon"),u=t("CButton"),m=t("CFormLabel"),p=t("CFormInput"),S=t("CForm"),O=t("CAlert"),h=t("CContainer");return f(),D(h,null,{default:o(()=>[s(g,{class:"mb-4"},{default:o(()=>[s(i,null,{default:o(()=>e[6]||(e[6]=[P("h4",null,"My Profile",-1)])),_:1})]),_:1}),s(i,{class:"mb-5 d-flex justify-content-center"},{default:o(()=>[P("div",H,[P("img",{src:r.profilePhotoUrl,class:"rounded-circle profile-photo",alt:"Profile Photo"},null,8,v),s(u,{class:"px-2 py-1 edit-icon",color:"dark",onClick:e[0]||(e[0]=n=>a.$refs.file.click()),title:"Select Image"},{default:o(()=>[s(C,{icon:"cil-camera"})]),_:1})]),P("input",{type:"file",ref:"file",onChange:e[1]||(e[1]=(...n)=>A.previewProfilePhoto&&A.previewProfilePhoto(...n)),class:"form-control mt-3 d-none"},null,544)]),_:1}),s(S,{onSubmit:T(A.updateProfile,["prevent"]),class:"row g-4"},{default:o(()=>[s(i,{xs:"6"},{default:o(()=>[s(m,{class:"fw-medium",for:"firstName"},{default:o(()=>e[7]||(e[7]=[l("First Name")])),_:1}),s(p,{class:"mt-2",type:"text",id:"firstName",modelValue:r.user.firstName,"onUpdate:modelValue":e[2]||(e[2]=n=>r.user.firstName=n),required:""},null,8,["modelValue"])]),_:1}),s(i,{xs:"6"},{default:o(()=>[s(m,{class:"fw-medium",for:"lastName"},{default:o(()=>e[8]||(e[8]=[l("Last Name")])),_:1}),s(p,{class:"mt-2",type:"text",id:"lastName",modelValue:r.user.lastName,"onUpdate:modelValue":e[3]||(e[3]=n=>r.user.lastName=n),required:""},null,8,["modelValue"])]),_:1}),s(i,{xs:"12"},{default:o(()=>[s(m,{class:"fw-medium",for:"email"},{default:o(()=>e[9]||(e[9]=[l("Email")])),_:1}),s(p,{class:"mt-2 w-80",type:"email",id:"email",modelValue:r.user.email,"onUpdate:modelValue":e[4]||(e[4]=n=>r.user.email=n),required:""},null,8,["modelValue"])]),_:1}),s(i,{xs:"12"},{default:o(()=>[s(m,{class:"fw-medium",for:"mobileNo"},{default:o(()=>e[10]||(e[10]=[l("Mobile No.")])),_:1}),s(p,{class:"mt-2",type:"tel",id:"mobileNo",modelValue:r.user.mobileNo,"onUpdate:modelValue":e[5]||(e[5]=n=>r.user.mobileNo=n),required:""},null,8,["modelValue"])]),_:1}),s(i,{class:"d-flex justify-content-center mt-4"},{default:o(()=>[s(u,{class:"px-3 py-1",type:"submit",color:"dark",disabled:r.isSaving,title:"Save Changes"},{default:o(()=>e[11]||(e[11]=[l(" Save ")])),_:1},8,["disabled"])]),_:1})]),_:1},8,["onSubmit"]),s(M,{name:"slide-fade"},{default:o(()=>[r.successMessage?(f(),D(O,{key:0,color:"success",class:"d-flex align-items-center mt-2 p-2 alert-slide"},{default:o(()=>[s(C,{icon:"cil-check-circle",class:"flex-shrink-0 me-2",width:"24",height:"24"}),l(" "+N(r.successMessage),1)]),_:1})):R("",!0)]),_:1})]),_:1})}const K=E(I,[["render",F],["__scopeId","data-v-eb07f90e"]]);export{K as default};
