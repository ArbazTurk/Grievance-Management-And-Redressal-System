import{_ as M,m as H,b as _,d,w as o,r as s,o as u,e as a,f as n,i as f,g as i,t as I,T as F}from"./index-C_9mUXb4.js";var D={ALLUSERSPROFILE:"C:\\ProgramData",AMDRMSDKPATH:"C:\\Program Files\\AMD\\RyzenMasterSDK\\",APPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming","asl.log":"Destination=file",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133418318008429188",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_33368_PPUCGOMKQMJFBSQO",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-DHE2J88U",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_12164:"1",GH_TOKEN:"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",GIT_ASKPASS:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",INIT_CWD:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-DHE2J88U",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",npm_config_node_gyp:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\package.json",npm_package_name:"@rd/grievence",npm_package_version:"1.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OneDriveConsumer:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OnlineServices:"Online Services",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:'C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Program Files\\HP\\HP One Agent;C:\\Program Files\\MongoDB\\Server\\7.0\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin;C:\\Program Files\\Java\\jdk-18.0.2.1;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\Scripts;C:\\platform-tools_r34.0.4-windows\\platform-tools;"C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin;";C:\\Program Files\\mongosh\\;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm',PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",platformcode:"KV",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"5000",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RegionCode:"APJ",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"0.40.4",TMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-DHE2J88U",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-DHE2J88U",USERNAME:"Arbaz Khan",USERPROFILE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-3a6143f334-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",PORT:"3000",BASE_API:"http://localhost:3001"};const w={name:"EditComplaint",data(){return{complaint:{category:"",description:[""],priority:"",complaintStatus:"",document:""},successMessage:"",isSubmitting:!1,rating:1,showModal:!1,isResolved:!1}},computed:{...H(["token"])},methods:{async fetchComplaint(){try{let m=D.BASE_API+"/get/complaint/"+this.$route.params.id;const e=await _.get(m,{headers:{Authorization:`Bearer ${this.token}`}});this.complaint=e.data,e.data.complaintStatus==="Resolved"?this.isResolved=!0:this.isResolved=!1}catch(m){console.error(m)}},async updateComplaint(){let m="";this.isSubmitting=!0;try{const e=new FormData;e.append("category",this.complaint.category),e.append("description",this.complaint.description[0]),e.append("priority",this.complaint.priority),e.append("complaintStatus",this.complaint.complaintStatus),this.rating!==1&&e.append("rating",this.rating),this.$refs.file.files[0]?e.append("file",this.$refs.file.files[0]):e.append("file",this.complaint.document);let g=D.BASE_API+"/update/complaint/"+this.$route.params.id;m=await _.put(g,e,{headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"multipart/form-data"}}),m.status===200&&(this.successMessage=`Complaint ${m.data.complaintId} updated successfully!`,setTimeout(()=>{this.successMessage="",this.$router.push({name:"Post Complaint"})},2e3))}catch(e){console.log(e)}finally{this.isSubmitting=!1,this.showModal=!1}},cancelEdit(){this.$router.push({name:"Post Complaint"})}},mounted(){this.fetchComplaint()}},N={type:"file",class:"form-control mt-2",ref:"file",name:"document"},J={class:"d-grid gap-2 d-md-flex mt-3 justify-content-md-start"};function K(m,e,g,x,t,c){const l=s("CCol"),C=s("CRow"),p=s("CFormLabel"),A=s("CFormSelect"),S=s("CFormTextarea"),P=s("CButton"),E=s("CForm"),b=s("CIcon"),O=s("CAlert"),v=s("CModalTitle"),U=s("CModalHeader"),y=s("CFormInput"),h=s("CFormFeedback"),T=s("CModalBody"),R=s("CModal"),L=s("CContainer");return u(),d(L,null,{default:o(()=>[a(C,{class:"mb-3"},{default:o(()=>[a(l,null,{default:o(()=>e[8]||(e[8]=[n("h4",null,"Edit Complaint",-1)])),_:1})]),_:1}),t.isResolved?(u(),d(C,{key:0,class:"mb-3"},{default:o(()=>[a(l,null,{default:o(()=>e[9]||(e[9]=[n("h5",{style:{color:"green"}},"Since this complain has been resolved therfore No fruther updation is allowed for this complaint",-1)])),_:1})]),_:1})):f("",!0),a(E,{class:"row g-3"},{default:o(()=>[a(l,{xs:"12"},{default:o(()=>[a(p,{class:"fw-medium",for:"category"},{default:o(()=>e[10]||(e[10]=[i("Category")])),_:1}),a(A,{class:"mt-2",id:"category",modelValue:t.complaint.category,"onUpdate:modelValue":e[0]||(e[0]=r=>t.complaint.category=r)},{default:o(()=>e[11]||(e[11]=[n("option",{value:"",disabled:""},"Select a category",-1),n("option",{value:"Grievance related to admission"},"Grievance related to Admission",-1),n("option",{value:"Grievance related to victimization"},"Grievance related to Victimization",-1),n("option",{value:"Grievance related to attendance"},"Grievance related to Attendance",-1),n("option",{value:"Grievance related to charging of fees"},"Grievance related to charging of fees",-1),n("option",{value:"Grievance regarding non-transparent or unfair evaluation process"}," Grievance regarding non-transparent or unfair evaluation process ",-1),n("option",{value:"Non-observation of AICTE norms and standards"},"Non-observation of AICTE norms and standards ",-1),n("option",{value:"Refusal to return documents such as certificates"},"Refusal to return documents such as certificates",-1),n("option",{value:"Harassment by fellow students or teachers"},"Harassment by fellow students or teachers",-1),n("option",{value:"Grievance related to provision of student amenities and quality education as promised or required to be provided"}," Grievance related to provision of student amenities and quality education as promised or required to be provided ",-1),n("option",{value:"Non-payment or delay in payment of scholarships"},"Non-payment or delay in payment of scholarships",-1),n("option",{value:"Complaints on discrimination by students from SC/ST/Minority Women/Disabled Categories"}," Complaints on discrimination by students from SC/ST/Minority Women/Disabled Categories ",-1),n("option",{value:"Grievance related to timetable scheduling"},"Grievance related to timetable scheduling",-1),n("option",{value:"Violation of lab/library rules"},"Violation of lab/library rules",-1),n("option",{value:"Not understanding of a subject"},"Not understanding of a subject",-1),n("option",{value:"Problem with faculty"},"Problem with faculty",-1)])),_:1},8,["modelValue"])]),_:1}),a(l,{xs:"12"},{default:o(()=>[a(p,{class:"fw-medium",for:"description"},{default:o(()=>e[12]||(e[12]=[i("Description")])),_:1}),a(S,{id:"description",class:"mt-2",name:"description",placeholder:"Enter Complaint Description",modelValue:t.complaint.description[0],"onUpdate:modelValue":e[1]||(e[1]=r=>t.complaint.description[0]=r),rows:"8"},null,8,["modelValue"])]),_:1}),a(l,{xs:"12"},{default:o(()=>[a(p,{class:"fw-medium",for:"priority"},{default:o(()=>e[13]||(e[13]=[i("Priority")])),_:1}),a(A,{id:"priority",class:"mt-2",modelValue:t.complaint.priority,"onUpdate:modelValue":e[2]||(e[2]=r=>t.complaint.priority=r)},{default:o(()=>e[14]||(e[14]=[n("option",{value:"",disabled:""},"Select priority",-1),n("option",{value:"High"},"High",-1),n("option",{value:"Medium"},"Medium",-1),n("option",{value:"Low"},"Low",-1)])),_:1},8,["modelValue"])]),_:1}),a(l,{xs:"12"},{default:o(()=>[a(p,{class:"fw-medium",for:"status"},{default:o(()=>e[15]||(e[15]=[i("Status")])),_:1}),a(A,{id:"status",class:"mt-2",modelValue:t.complaint.complaintStatus,"onUpdate:modelValue":e[3]||(e[3]=r=>t.complaint.complaintStatus=r)},{default:o(()=>e[16]||(e[16]=[n("option",{value:"Pending"},"Pending",-1),n("option",{value:"InProgress"},"InProgress",-1),n("option",{value:"Resolved"},"Resolved",-1)])),_:1},8,["modelValue"])]),_:1}),a(l,{xs:"12"},{default:o(()=>[a(p,{class:"fw-medium",for:"document"},{default:o(()=>e[17]||(e[17]=[i("Select Document (if Any)")])),_:1}),n("input",N,null,512)]),_:1}),t.isResolved?(u(),d(l,{key:1,xs:"12",class:"d-flex justify-content-center gap-4 my-5"},{default:o(()=>[a(P,{class:"px-3 text-white",type:"button",color:"danger",onClick:c.cancelEdit},{default:o(()=>e[20]||(e[20]=[i("Cancel")])),_:1},8,["onClick"])]),_:1})):(u(),d(l,{key:0,xs:"12",class:"d-flex justify-content-center gap-4 my-5"},{default:o(()=>[a(P,{class:"px-3 text-white",type:"button",color:"danger",onClick:c.cancelEdit},{default:o(()=>e[18]||(e[18]=[i("Cancel")])),_:1},8,["onClick"]),a(P,{class:"px-3",type:"button",color:"dark",onClick:e[4]||(e[4]=r=>t.complaint.complaintStatus==="Resolved"?t.showModal=!0:c.updateComplaint())},{default:o(()=>e[19]||(e[19]=[i("Update")])),_:1})]),_:1}))]),_:1}),a(F,{name:"slide-fade"},{default:o(()=>[t.successMessage?(u(),d(O,{key:0,color:"success",class:"d-flex align-items-center mt-2 alert-slide"},{default:o(()=>[a(b,{icon:"cil-check-circle",class:"flex-shrink-0 me-2",width:"24",height:"24"}),i(" "+I(t.successMessage),1)]),_:1})):f("",!0)]),_:1}),a(R,{style:{color:"black"},visible:t.showModal,onClose:e[7]||(e[7]=r=>t.showModal=!1)},{default:o(()=>[a(U,null,{default:o(()=>[a(v,null,{default:o(()=>e[21]||(e[21]=[i("Ratings")])),_:1})]),_:1}),a(T,null,{default:o(()=>[e[24]||(e[24]=n("h6",null,"Please give your rating for this complain based on its resolution",-1)),a(C,null,{default:o(()=>[a(l,null,{default:o(()=>[a(y,{type:"number",label:"Minimum Rating= 1, Maximum Rating= 5",modelValue:t.rating,"onUpdate:modelValue":e[5]||(e[5]=r=>t.rating=r),placeholder:"Enter Rating",min:1,max:5,"aria-label":"default input example",invalid:t.rating<1||t.rating>5},null,8,["modelValue","invalid"]),a(h,{invalid:""},{default:o(()=>e[22]||(e[22]=[i("Rating must be between 1 and 5")])),_:1})]),_:1})]),_:1}),n("div",J,[a(P,{color:"dark",onClick:e[6]||(e[6]=r=>c.updateComplaint()),disabled:t.rating<1||t.rating>5},{default:o(()=>e[23]||(e[23]=[i("Proceed to update ")])),_:1},8,["disabled"])])]),_:1})]),_:1},8,["visible"])]),_:1})}const V=M(w,[["render",K],["__scopeId","data-v-ed28ee6e"]]);export{V as default};
