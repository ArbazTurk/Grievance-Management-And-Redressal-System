import{_ as L,m as y,b as R,d as A,w as o,r,o as _,e,g as l,f as t,T as w,t as f,i as O,h as H}from"./index-C_9mUXb4.js";var I={ALLUSERSPROFILE:"C:\\ProgramData",AMDRMSDKPATH:"C:\\Program Files\\AMD\\RyzenMasterSDK\\",APPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming","asl.log":"Destination=file",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133418318008429188",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_33368_PPUCGOMKQMJFBSQO",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-DHE2J88U",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_12164:"1",GH_TOKEN:"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",GIT_ASKPASS:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",INIT_CWD:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-DHE2J88U",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",npm_config_node_gyp:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\package.json",npm_package_name:"@rd/grievence",npm_package_version:"1.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OneDriveConsumer:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OnlineServices:"Online Services",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:'C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Program Files\\HP\\HP One Agent;C:\\Program Files\\MongoDB\\Server\\7.0\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin;C:\\Program Files\\Java\\jdk-18.0.2.1;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\Scripts;C:\\platform-tools_r34.0.4-windows\\platform-tools;"C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin;";C:\\Program Files\\mongosh\\;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm',PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",platformcode:"KV",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"5000",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RegionCode:"APJ",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"0.40.4",TMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-DHE2J88U",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-DHE2J88U",USERNAME:"Arbaz Khan",USERPROFILE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-3a6143f334-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",PORT:"3000",BASE_API:"http://localhost:3001"};const N={name:"ChangePassword",data(){return{formData:{currentPassword:"",newPassword:"",confirmPassword:""},confirmPasswordValid:!1,showCurrentPassword:!1,showNewPassword:!1,showConfirmPassword:!1,successMessage:"",errorMessage:"",showModal:!1}},computed:{...y(["_id","token"])},methods:{togglePasswordVisibility(i){this[`show${i}`]=!this[`show${i}`]},changePassword(){this.confirmPasswordValid=this.formData.newPassword===this.formData.confirmPassword;let i=I.BASE_API+"/change/password/"+this._id;this.confirmPasswordValid?R.put(i,this.formData,{headers:{Authorization:`Bearer ${this.token}`}}).then(s=>{this.successMessage=s.data.message,this.formData={currentPassword:"",newPassword:"",confirmPassword:""},this.confirmPasswordValid=!1,setTimeout(()=>{this.successMessage=""},2e3)}).catch(s=>{this.errorMessage=s.response.data.message,setTimeout(()=>{this.errorMessage=""},2e3),console.error("Error:",s)}):this.showModal=!0}}},v={class:"password-input-container"},J={class:"password-toggle"},F={class:"password-input-container"},K={class:"password-toggle"},V={class:"password-input-container"},z={class:"password-toggle"};function x(i,s,k,W,a,P){const E=r("CModalTitle"),h=r("CModalHeader"),S=r("CModalBody"),u=r("CButton"),U=r("CModalFooter"),b=r("CModal"),m=r("CCol"),d=r("CRow"),p=r("CFormLabel"),C=r("CFormInput"),c=r("font-awesome-icon"),g=r("CIcon"),D=r("CAlert"),T=r("CForm"),M=r("CContainer");return _(),A(M,null,{default:o(()=>[e(b,{style:{color:"#d9534f"},visible:a.showModal,onClose:s[1]||(s[1]=n=>a.showModal=!1)},{default:o(()=>[e(h,null,{default:o(()=>[e(E,null,{default:o(()=>s[8]||(s[8]=[l("Password Mismatch Error")])),_:1})]),_:1}),e(S,null,{default:o(()=>s[9]||(s[9]=[t("h6",null,"The new password and confirm password do not match. Please try again.",-1)])),_:1}),e(U,null,{default:o(()=>[e(u,{color:"secondary",onClick:s[0]||(s[0]=n=>a.showModal=!1)},{default:o(()=>s[10]||(s[10]=[l(" Close ")])),_:1})]),_:1})]),_:1},8,["visible"]),e(d,{class:"mb-4"},{default:o(()=>[e(m,null,{default:o(()=>s[11]||(s[11]=[t("h4",null,"Change Password",-1)])),_:1})]),_:1}),e(T,{onSubmit:H(P.changePassword,["prevent"])},{default:o(()=>[e(d,{class:"my-3"},{default:o(()=>[e(m,{xs:"12"},{default:o(()=>[e(p,{class:"fw-medium",for:"currentPassword"},{default:o(()=>s[12]||(s[12]=[l("Current Password")])),_:1}),t("div",v,[e(C,{type:a.showCurrentPassword?"text":"password",class:"mt-2 p-2",id:"currentPassword",modelValue:a.formData.currentPassword,"onUpdate:modelValue":s[2]||(s[2]=n=>a.formData.currentPassword=n),required:""},null,8,["type","modelValue"]),t("span",J,[e(c,{icon:a.showCurrentPassword?"fa-regular fa-eye":"fa-regular fa-eye-slash",onClick:s[3]||(s[3]=n=>P.togglePasswordVisibility("CurrentPassword"))},null,8,["icon"])])])]),_:1})]),_:1}),e(d,{class:"my-3"},{default:o(()=>[e(m,{xs:"12"},{default:o(()=>[e(p,{class:"fw-medium",for:"newPassword"},{default:o(()=>s[13]||(s[13]=[l("New Password")])),_:1}),t("div",F,[e(C,{type:a.showNewPassword?"text":"password",class:"mt-2 p-2",id:"newPassword",modelValue:a.formData.newPassword,"onUpdate:modelValue":s[4]||(s[4]=n=>a.formData.newPassword=n),required:"",minlength:"6"},null,8,["type","modelValue"]),t("span",K,[e(c,{icon:a.showNewPassword?"fa-regular fa-eye":"fa-regular fa-eye-slash",onClick:s[5]||(s[5]=n=>P.togglePasswordVisibility("NewPassword"))},null,8,["icon"])])]),s[14]||(s[14]=t("p",{class:"text-danger"},"Password must be at least 6 characters long.",-1))]),_:1})]),_:1}),e(d,{class:"my-3"},{default:o(()=>[e(m,{xs:"12"},{default:o(()=>[e(p,{class:"fw-medium",for:"confirmPassword"},{default:o(()=>s[15]||(s[15]=[l("Confirm New Password")])),_:1}),t("div",V,[e(C,{type:a.showConfirmPassword?"text":"password",class:"mt-2 p-2",id:"confirmPassword",modelValue:a.formData.confirmPassword,"onUpdate:modelValue":s[6]||(s[6]=n=>a.formData.confirmPassword=n),required:""},null,8,["type","modelValue"]),t("span",z,[e(c,{icon:a.showConfirmPassword?"fa-regular fa-eye":"fa-regular fa-eye-slash",onClick:s[7]||(s[7]=n=>P.togglePasswordVisibility("ConfirmPassword"))},null,8,["icon"])])]),s[16]||(s[16]=t("p",{class:"text-danger"},"Passwords must match.",-1))]),_:1})]),_:1}),e(d,{class:"my-3"},{default:o(()=>[e(m,{xs:"12",class:"text-end"},{default:o(()=>[e(u,{type:"submit",color:"dark"},{default:o(()=>s[17]||(s[17]=[l("Change Password")])),_:1})]),_:1})]),_:1}),e(w,{name:"slide-fade"},{default:o(()=>[a.successMessage?(_(),A(D,{key:0,color:"success",class:"d-flex align-items-center mt-2 p-2 alert-slide"},{default:o(()=>[e(g,{icon:"cil-check-circle",class:"flex-shrink-0 me-2",width:"24",height:"24"}),l(" "+f(a.successMessage),1)]),_:1})):O("",!0)]),_:1}),e(w,{name:"slide-fade"},{default:o(()=>[a.errorMessage?(_(),A(D,{key:0,color:"danger",class:"d-flex align-items-center mt-2 p-2 alert-slide"},{default:o(()=>[e(g,{icon:"cil-x-circle",class:"flex-shrink-0 me-2",width:"24",height:"24"}),l(" "+f(a.errorMessage),1)]),_:1})):O("",!0)]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const B=L(N,[["render",x],["__scopeId","data-v-8cdc7e0a"]]);export{B as default};
