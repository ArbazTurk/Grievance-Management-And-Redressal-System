import{_ as w,m as v,b as h,d as _,w as e,r,o as m,e as s,g as i,f as n,t as p,j as A,i as g,F as x,k as I,h as F,T as H}from"./index-C_9mUXb4.js";var E={ALLUSERSPROFILE:"C:\\ProgramData",AMDRMSDKPATH:"C:\\Program Files\\AMD\\RyzenMasterSDK\\",APPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming","asl.log":"Destination=file",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133418318008429188",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_33368_PPUCGOMKQMJFBSQO",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-DHE2J88U",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_12164:"1",GH_TOKEN:"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",GIT_ASKPASS:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",INIT_CWD:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-DHE2J88U",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",npm_config_node_gyp:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\package.json",npm_package_name:"@rd/grievence",npm_package_version:"1.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OneDriveConsumer:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OnlineServices:"Online Services",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:'C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Program Files\\HP\\HP One Agent;C:\\Program Files\\MongoDB\\Server\\7.0\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin;C:\\Program Files\\Java\\jdk-18.0.2.1;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\Scripts;C:\\platform-tools_r34.0.4-windows\\platform-tools;"C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin;";C:\\Program Files\\mongosh\\;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm',PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",platformcode:"KV",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"5000",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RegionCode:"APJ",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"0.40.4",TMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-DHE2J88U",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-DHE2J88U",USERNAME:"Arbaz Khan",USERPROFILE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-3a6143f334-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",PORT:"3000",BASE_API:"http://localhost:3001"};const N={name:"ComplaintDetails",data(){return{complaint:{category:"",description:[],priority:"",complaintStatus:"",document:"",remarks:[],complaintRecipient:{},communicationTimeStamps:[]},appealMessage:"",showAppealForm:!1,successMessage:"",combined:[],complainerTimeStamps:[],complaineeTimeStamps:[],showModal:!1}},computed:{...v(["token"])},methods:{async fetchComplaint(){try{let d=E.BASE_API+"/get/complaint/"+this.$route.params.id;const a=await h.get(d,{headers:{Authorization:`Bearer ${this.token}`}});this.complaint=a.data;for(let c=0;c<this.complaint.description.length-1;c++)this.combined.push({description:this.complaint.description[c+1]||"",remark:this.complaint.remarks[c+1]||""});for(let c=2;c<this.complaint.communicationTimeStamps.length;c++)this.complainerTimeStamps.push(this.complaint.communicationTimeStamps[c]),c++,c<this.complaint.communicationTimeStamps.length&&this.complaineeTimeStamps.push(this.complaint.communicationTimeStamps[c])}catch(d){console.error(d)}},async sendAppeal(){try{this.showAppealForm=!1;let d=E.BASE_API+"/update/complaint/"+this.$route.params.id+"/appeal";(await h.put(d,{appealMessage:this.appealMessage},{headers:{Authorization:`Bearer ${this.token}`}})).status===200&&(this.combined=[],this.successMessage="Appeal message sent successfully!",this.appealMessage="",this.fetchComplaint()),setTimeout(()=>{this.successMessage=""},2e3)}catch(d){console.error(d)}},convertDate(d){return new Date(d).toLocaleString()},goBack(){this.$router.push({name:"Post Complaint"})},goToEditComplaint(){this.$router.push({name:"Edit Complaint",params:{id:this.complaint._id}})},manageAlert(){this.complaint.description.length===this.complaint.remarks.length?(this.showAppealForm=!0,this.$nextTick(()=>{this.$refs.appealForm.scrollIntoView({behavior:"smooth"})})):this.showModal=!0}},mounted(){this.fetchComplaint()}},J=["href"],K={key:1},z={style:{"text-align":"justify","font-weight":"bold"}},W={style:{"text-align":"justify"}},V={style:{"text-align":"justify","font-weight":"bold"}},G={key:0},B={class:"text-primary fw-bold"},j={key:0},X={class:"text-secondary fw-bold"},Y={key:4,ref:"appealForm"};function Q(d,a,c,q,o,P){const O=r("CModalTitle"),T=r("CModalHeader"),b=r("CModalBody"),f=r("CButton"),U=r("CModalFooter"),y=r("CModal"),t=r("CCol"),S=r("CIcon"),l=r("CRow"),u=r("CFormLabel"),M=r("CFormTextarea"),L=r("CForm"),R=r("CAlert"),k=r("CContainer");return m(),_(k,null,{default:e(()=>[s(y,{style:{color:"#d9534f"},visible:o.showModal,onClose:a[1]||(a[1]=C=>o.showModal=!1)},{default:e(()=>[s(T,null,{default:e(()=>[s(O,null,{default:e(()=>a[4]||(a[4]=[i("Appeal Reply Pending")])),_:1})]),_:1}),s(b,null,{default:e(()=>a[5]||(a[5]=[n("h6",null,"Please note that your last appeal's reply has not been received yet. Please wait for the reply before appealing again.",-1)])),_:1}),s(U,null,{default:e(()=>[s(f,{color:"secondary",onClick:a[0]||(a[0]=C=>o.showModal=!1)},{default:e(()=>a[6]||(a[6]=[i(" Close ")])),_:1})]),_:1})]),_:1},8,["visible"]),s(l,{class:"mb-3"},{default:e(()=>[s(t,null,{default:e(()=>a[7]||(a[7]=[n("h4",null,"Complaint Details",-1)])),_:1}),s(t,{class:"text-end"},{default:e(()=>[s(f,{color:"dark",onClick:P.goBack},{default:e(()=>[s(S,{icon:"cil-chevron-circle-left-alt"}),a[8]||(a[8]=n("span",{style:{padding:"0 5px"}},"Back",-1))]),_:1},8,["onClick"])]),_:1})]),_:1}),s(l,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[9]||(a[9]=[i("Complaint Category:")])),_:1})]),_:1}),s(t,{xs:"8"},{default:e(()=>[n("p",null,p(o.complaint.category),1)]),_:1})]),_:1}),s(l,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[10]||(a[10]=[i("Complaint Priority:")])),_:1})]),_:1}),s(t,{xs:"8"},{default:e(()=>[n("p",null,p(o.complaint.priority),1)]),_:1})]),_:1}),s(l,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[11]||(a[11]=[i("Complaint Status:")])),_:1})]),_:1}),s(t,{xs:"8"},{default:e(()=>[n("p",null,p(o.complaint.complaintStatus),1)]),_:1})]),_:1}),s(l,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[12]||(a[12]=[i("Document:")])),_:1})]),_:1}),s(t,{xs:"8"},{default:e(()=>[n("p",null,[o.complaint.document?(m(),A("a",{key:0,href:o.complaint.document,target:"_blank"},"View Document",8,J)):(m(),A("span",K,"N/A"))])]),_:1})]),_:1}),o.complaint.communicationTimeStamps.length&&o.complaint.communicationTimeStamps[0]?(m(),_(l,{key:0,class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[13]||(a[13]=[i("Complaint Initiated At:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",z,p(P.convertDate(o.complaint.communicationTimeStamps[0])),1)]),_:1})]),_:1})):g("",!0),s(l,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[14]||(a[14]=[i("Complaint Description:")])),_:1})]),_:1}),s(t,{xs:"8"},{default:e(()=>[n("p",W,p(o.complaint.description[0]),1)]),_:1})]),_:1}),s(l,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[15]||(a[15]=[i("Complaint Recipient:")])),_:1})]),_:1}),s(t,{xs:"8"},{default:e(()=>[n("p",null,p(o.complaint.complaintRecipient.firstName+" "+o.complaint.complaintRecipient.lastName),1)]),_:1})]),_:1}),s(l,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[16]||(a[16]=[i("Response:")])),_:1})]),_:1}),s(t,{xs:"8"},{default:e(()=>[n("p",null,p(o.complaint.remarks[0]?o.complaint.remarks[0]:"Not Receieved Yet"),1)]),_:1})]),_:1}),o.complaint.remarks.length&&o.complaint.communicationTimeStamps.length&&o.complaint.communicationTimeStamps[0]?(m(),_(l,{key:1,class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(u,{class:"fw-medium"},{default:e(()=>a[17]||(a[17]=[i("First Response At:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",V,p(P.convertDate(o.complaint.communicationTimeStamps[1])),1)]),_:1})]),_:1})):g("",!0),s(l,null,{default:e(()=>[s(t,null,{default:e(()=>[o.complaint.description[1]?(m(),A("div",G,[a[18]||(a[18]=n("h4",null,"Further Communication",-1)),s(l,{class:"border mt-3 pt-3"},{default:e(()=>[s(t,null,{default:e(()=>[(m(!0),A(x,null,I(o.combined,(C,D)=>(m(),A("div",{key:D},[n("p",null,[n("span",B,"You:["+p("["+o.complainerTimeStamps[D]?P.convertDate(o.complainerTimeStamps[D]):"]")+" ]",1),i(" "+p(C.description),1)]),C.remark?(m(),A("p",j,[n("span",X,p(o.complaint.complaintRecipient.firstName+" "+o.complaint.complaintRecipient.lastName)+":[ "+p("["+o.complaineeTimeStamps[D]?P.convertDate(o.complaineeTimeStamps[D]):"]")+" ]",1),i(" "+p(C.remark),1)])):g("",!0)]))),128))]),_:1})]),_:1})])):g("",!0),o.complaint.remarks[0]&&o.complaint.complaintStatus!=="Resolved"?(m(),_(l,{key:1,class:"mt-3"},{default:e(()=>[s(t,{xs:"9",class:"align-items-start"},{default:e(()=>a[19]||(a[19]=[n("p",{class:"text-danger fw-medium"},' If your complaint has been resolved, you can edit it and update the status to "Resolved". ',-1)])),_:1}),s(t,{xs:"1"},{default:e(()=>[s(f,{class:"px-2 py-1",style:{width:"50px"},color:"dark",onClick:a[2]||(a[2]=C=>P.goToEditComplaint(o.complaint)),title:"Edit Complaint"},{default:e(()=>[s(S,{icon:"cil-pencil"})]),_:1})]),_:1})]),_:1})):g("",!0),o.complaint.complaintStatus!=="Resolved"?(m(),_(l,{key:2,class:"mb-3"},{default:e(()=>[s(t,{xs:"9",class:"align-items-start"},{default:e(()=>a[20]||(a[20]=[n("p",{class:"text-danger fw-medium"},` If you feel your complaint hasn't been resolved and want to appeal, click "Yes". `,-1)])),_:1}),s(t,{xs:"1"},{default:e(()=>[s(f,{class:"px-2 py-1",style:{width:"50px"},color:"dark",onClick:P.manageAlert,title:"Appeal Form"},{default:e(()=>a[21]||(a[21]=[i(" Yes ")])),_:1},8,["onClick"])]),_:1})]),_:1})):(m(),_(l,{key:3,class:"mb-3 mt-4"},{default:e(()=>[s(t,{xs:"9",class:"align-items-start"},{default:e(()=>a[22]||(a[22]=[n("p",{class:"text-success fw-medium"}," This Complain has been resolved ",-1)])),_:1})]),_:1})),o.showAppealForm?(m(),A("div",Y,[s(L,{onSubmit:F(P.sendAppeal,["prevent"])},{default:e(()=>[s(l,null,{default:e(()=>[s(t,{xs:"8",class:"align-items-start"},{default:e(()=>[s(M,{modelValue:o.appealMessage,"onUpdate:modelValue":a[3]||(a[3]=C=>o.appealMessage=C),rows:"4",placeholder:"Enter your appeal message",class:"mb-4",required:""},null,8,["modelValue"])]),_:1}),s(t,{xs:"2",class:"text-end"},{default:e(()=>[s(f,{type:"submit",color:"dark",disabled:!o.appealMessage},{default:e(()=>a[23]||(a[23]=[i("Send Appeal")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])],512)):g("",!0)]),_:1})]),_:1}),s(H,{name:"slide-fade"},{default:e(()=>[o.successMessage?(m(),_(R,{key:0,color:"success",class:"d-flex align-items-center mt-2 alert-slide"},{default:e(()=>[s(S,{icon:"cil-check-circle",class:"flex-shrink-0 me-2",width:"24",height:"24"}),i(" "+p(o.successMessage),1)]),_:1})):g("",!0)]),_:1})]),_:1})}const $=w(N,[["render",Q],["__scopeId","data-v-7d8cb54d"]]);export{$ as default};
