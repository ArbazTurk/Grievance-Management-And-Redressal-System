import{_ as k,m as x,b as h,d as C,w as e,r as m,o as i,e as s,g as l,f as n,t as p,j as g,i as A,k as F,F as H,h as I,T as v}from"./index-C_9mUXb4.js";var E={ALLUSERSPROFILE:"C:\\ProgramData",AMDRMSDKPATH:"C:\\Program Files\\AMD\\RyzenMasterSDK\\",APPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming","asl.log":"Destination=file",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133418318008429188",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_33368_PPUCGOMKQMJFBSQO",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-DHE2J88U",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_12164:"1",GH_TOKEN:"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",GIT_ASKPASS:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",INIT_CWD:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-DHE2J88U",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",npm_config_node_gyp:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\package.json",npm_package_name:"@rd/grievence",npm_package_version:"1.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OneDriveConsumer:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OnlineServices:"Online Services",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:'C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Program Files\\HP\\HP One Agent;C:\\Program Files\\MongoDB\\Server\\7.0\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin;C:\\Program Files\\Java\\jdk-18.0.2.1;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\Scripts;C:\\platform-tools_r34.0.4-windows\\platform-tools;"C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin;";C:\\Program Files\\mongosh\\;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm',PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",platformcode:"KV",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"5000",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RegionCode:"APJ",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"0.40.4",TMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-DHE2J88U",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-DHE2J88U",USERNAME:"Arbaz Khan",USERPROFILE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-3a6143f334-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",PORT:"3000",BASE_API:"http://localhost:3001"};const N={name:"ComplaintDetails",data(){return{complaint:{category:"",description:[],priority:"",complaintStatus:"",document:"",remarks:[],complaintBy:{},communicationTimeStamps:[]},replyMessage:"",showReplyForm:!1,successMessage:"",combined:[],complainerTimeStamps:[],complaineeTimeStamps:[],showModal:!1}},computed:{...x(["token"])},methods:{async fetchComplaint(){try{let d=E.BASE_API+"/get/complaint/"+this.$route.params.id;const a=await h.get(d,{headers:{Authorization:`Bearer ${this.token}`}});this.complaint=a.data;for(let c=0;c<this.complaint.description.length-1;c++)this.combined.push({description:this.complaint.description[c+1]||"",remark:this.complaint.remarks[c+1]||""});for(let c=2;c<this.complaint.communicationTimeStamps.length;c++)this.complainerTimeStamps.push(this.complaint.communicationTimeStamps[c]),c++,c<this.complaint.communicationTimeStamps.length&&this.complaineeTimeStamps.push(this.complaint.communicationTimeStamps[c])}catch(d){console.error(d)}},async sendReply(){try{this.showReplyForm=!1;let d=E.BASE_API+"/update/complaint/"+this.$route.params.id+"/reply";(await h.put(d,{replyMessage:this.replyMessage},{headers:{Authorization:`Bearer ${this.token}`}})).status===200&&(this.combined=[],this.successMessage="Reply message sent successfully!",this.replyMessage="",this.fetchComplaint()),setTimeout(()=>{this.successMessage=""},2e3)}catch(d){console.error(d)}},convertDate(d){return new Date(d).toLocaleString()},goBack(){this.$router.push({name:"View Complaints"})},manageAlert(){this.complaint.description.length!==this.complaint.remarks.length?(this.showReplyForm=!0,this.$nextTick(()=>{this.$refs.replyForm.scrollIntoView({behavior:"smooth"})})):this.showModal=!0}},created(){this.fetchComplaint()}},J={style:{"font-weight":"bold"}},K=["href"],z={key:1},V={style:{"text-align":"justify","font-weight":"bold"}},W={style:{"text-align":"justify"}},B={style:{"text-align":"justify","font-weight":"bold"}},G={class:"text-secondary fw-bold"},j={key:0},X={class:"text-primary fw-bold"},Y={key:2,ref:"replyForm"};function Q(d,a,c,q,o,_){const O=m("CModalTitle"),b=m("CModalHeader"),T=m("CModalBody"),f=m("CButton"),U=m("CModalFooter"),M=m("CModal"),t=m("CCol"),S=m("CIcon"),r=m("CRow"),P=m("CFormLabel"),y=m("CFormTextarea"),L=m("CForm"),R=m("CAlert"),w=m("CContainer");return i(),C(w,null,{default:e(()=>[s(M,{style:{color:"#d9534f"},visible:o.showModal,onClose:a[1]||(a[1]=u=>o.showModal=!1)},{default:e(()=>[s(b,null,{default:e(()=>[s(O,null,{default:e(()=>a[5]||(a[5]=[l("No New Appeals")])),_:1})]),_:1}),s(T,null,{default:e(()=>a[6]||(a[6]=[n("h6",null,"No new appeals to reply to. Please wait for a new appeal to be submitted.",-1)])),_:1}),s(U,null,{default:e(()=>[s(f,{color:"secondary",onClick:a[0]||(a[0]=u=>o.showModal=!1)},{default:e(()=>a[7]||(a[7]=[l(" Close ")])),_:1})]),_:1})]),_:1},8,["visible"]),s(r,{class:"mb-3"},{default:e(()=>[s(t,null,{default:e(()=>a[8]||(a[8]=[n("h4",null,"Complaint Details",-1)])),_:1}),s(t,{class:"text-end"},{default:e(()=>[s(f,{color:"dark",onClick:_.goBack},{default:e(()=>[s(S,{icon:"cil-chevron-circle-left-alt"}),a[9]||(a[9]=n("span",{style:{padding:"0 5px"}},"Back",-1))]),_:1},8,["onClick"])]),_:1})]),_:1}),s(r,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[10]||(a[10]=[l("Complain Raised By:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",J,p(o.complaint.anonymous?" ******":o.complaint.complaintBy.firstName+" "+o.complaint.complaintBy.lastName),1)]),_:1})]),_:1}),s(r,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[11]||(a[11]=[l("Complaint Category:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",null,p(o.complaint.category),1)]),_:1})]),_:1}),s(r,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[12]||(a[12]=[l("Complaint Priority:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",null,p(o.complaint.priority),1)]),_:1})]),_:1}),s(r,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[13]||(a[13]=[l("Complaint Status:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",null,p(o.complaint.complaintStatus),1)]),_:1})]),_:1}),s(r,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[14]||(a[14]=[l("Document:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",null,[o.complaint.document?(i(),g("a",{key:0,href:o.complaint.document,target:"_blank"},"View Document",8,K)):(i(),g("span",z,"N/A"))])]),_:1})]),_:1}),o.complaint.communicationTimeStamps.length&&o.complaint.communicationTimeStamps[0]?(i(),C(r,{key:0,class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[15]||(a[15]=[l("Complaint Initiated At:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",V,p(_.convertDate(o.complaint.communicationTimeStamps[0])),1)]),_:1})]),_:1})):A("",!0),s(r,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[16]||(a[16]=[l("Complaint Description:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",W,p(o.complaint.description[0]),1)]),_:1})]),_:1}),s(r,{class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[17]||(a[17]=[l("Your Remarks:")])),_:1})]),_:1}),o.complaint.remarks.length?(i(),C(t,{key:0,xs:"7"},{default:e(()=>[n("p",null,p(o.complaint.remarks[0]),1)]),_:1})):A("",!0)]),_:1}),o.complaint.remarks.length?A("",!0):(i(),C(r,{key:1,class:"gap-5"},{default:e(()=>[s(t,{xs:"7",class:"align-items-start"},{default:e(()=>[s(y,{modelValue:o.replyMessage,"onUpdate:modelValue":a[2]||(a[2]=u=>o.replyMessage=u),rows:"6",placeholder:"Enter your reply message",class:"mb-4 mr-0",required:""},null,8,["modelValue"])]),_:1}),s(t,{xs:"3",class:"text-start"},{default:e(()=>[s(f,{type:"button",color:"dark",disabled:!o.replyMessage,onClick:a[3]||(a[3]=u=>_.sendReply())},{default:e(()=>a[18]||(a[18]=[l("Send Reply")])),_:1},8,["disabled"])]),_:1})]),_:1})),o.complaint.remarks.length&&o.complaint.communicationTimeStamps.length&&o.complaint.communicationTimeStamps[0]?(i(),C(r,{key:2,class:"gap-5"},{default:e(()=>[s(t,{xs:"3",class:"align-items-start"},{default:e(()=>[s(P,{class:"fw-medium"},{default:e(()=>a[19]||(a[19]=[l("First Response At:")])),_:1})]),_:1}),s(t,{xs:"7"},{default:e(()=>[n("p",B,p(_.convertDate(o.complaint.communicationTimeStamps[1])),1)]),_:1})]),_:1})):A("",!0),o.complaint.description[1]?(i(),C(r,{key:3},{default:e(()=>[s(t,null,{default:e(()=>[a[24]||(a[24]=n("h4",null,"Further Communication",-1)),s(r,{class:"border mt-3 pt-3"},{default:e(()=>[s(t,null,{default:e(()=>[(i(!0),g(H,null,F(o.combined,(u,D)=>(i(),g("div",{key:D},[n("p",null,[n("span",G,p(o.complaint.anonymous?" *****":o.complaint.complaintBy.firstName+" "+o.complaint.complaintBy.lastName)+" ["+p("["+o.complainerTimeStamps[D]?_.convertDate(o.complainerTimeStamps[D]):"]")+" ]:",1),l(" "+p(u.description),1)]),u.remark?(i(),g("p",j,[n("span",X,"You ["+p("["+o.complaineeTimeStamps[D]?_.convertDate(o.complaineeTimeStamps[D]):"]")+" ]:",1),l(" "+p(u.remark),1)])):A("",!0)]))),128))]),_:1})]),_:1}),o.complaint.complaintStatus!=="Resolved"?(i(),C(r,{key:0,class:"mb-3 mt-4"},{default:e(()=>[s(t,{xs:"9",class:"align-items-start"},{default:e(()=>a[20]||(a[20]=[n("p",{class:"text-danger fw-medium"},' If you want to reply to this appeal, click "Yes". ',-1)])),_:1}),s(t,{xs:"1"},{default:e(()=>[s(f,{class:"px-2 py-1",style:{width:"50px"},color:"dark",onClick:_.manageAlert,title:"Reply Form"},{default:e(()=>a[21]||(a[21]=[l(" Yes ")])),_:1},8,["onClick"])]),_:1})]),_:1})):(i(),C(r,{key:1,class:"mb-3 mt-4"},{default:e(()=>[s(t,{xs:"9",class:"align-items-start"},{default:e(()=>a[22]||(a[22]=[n("p",{class:"text-success fw-medium"}," This Complain has been resolved ",-1)])),_:1})]),_:1})),o.showReplyForm?(i(),g("div",Y,[s(L,{onSubmit:I(_.sendReply,["prevent"])},{default:e(()=>[s(r,null,{default:e(()=>[s(t,{xs:"8",class:"align-items-start"},{default:e(()=>[s(y,{modelValue:o.replyMessage,"onUpdate:modelValue":a[4]||(a[4]=u=>o.replyMessage=u),rows:"4",placeholder:"Enter your reply message",class:"mb-4",required:""},null,8,["modelValue"])]),_:1}),s(t,{xs:"2",class:"text-end"},{default:e(()=>[s(f,{type:"submit",color:"dark",disabled:!o.replyMessage},{default:e(()=>a[23]||(a[23]=[l("Send Reply")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])],512)):A("",!0)]),_:1})]),_:1})):A("",!0),s(v,{name:"slide-fade"},{default:e(()=>[o.successMessage?(i(),C(R,{key:0,color:"success",class:"d-flex align-items-center mt-2 alert-slide"},{default:e(()=>[s(S,{icon:"cil-check-circle",class:"flex-shrink-0 me-2",width:"24",height:"24"}),l(" "+p(o.successMessage),1)]),_:1})):A("",!0)]),_:1})]),_:1})}const $=k(N,[["render",Q],["__scopeId","data-v-1961b8df"]]);export{$ as default};
