import{_ as V,m as x,b as M,d as c,w as o,r as s,o as m,e as a,g as t,f as P,j as L,k as R,F as I,i as _,t as i,T as B}from"./index-C_9mUXb4.js";var H={ALLUSERSPROFILE:"C:\\ProgramData",AMDRMSDKPATH:"C:\\Program Files\\AMD\\RyzenMasterSDK\\",APPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming","asl.log":"Destination=file",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133418318008429188",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_33368_PPUCGOMKQMJFBSQO",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-DHE2J88U",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_12164:"1",GH_TOKEN:"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",GIT_ASKPASS:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",INIT_CWD:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-DHE2J88U",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance",npm_config_node_gyp:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\package.json",npm_package_name:"@rd/grievence",npm_package_version:"1.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"12",OneDrive:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OneDriveConsumer:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\OneDrive",OnlineServices:"Online Services",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:'C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\user-grievance\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\Grievance Management System\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Desktop\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\VMware\\VMware Workstation\\bin\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;C:\\windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Program Files\\HP\\HP One Agent;C:\\Program Files\\MongoDB\\Server\\7.0\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\Python\\Python310\\Scripts;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin;C:\\Program Files\\Java\\jdk-18.0.2.1;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\Scripts;C:\\platform-tools_r34.0.4-windows\\platform-tools;"C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin;";C:\\Program Files\\mongosh\\;C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Roaming\\npm',PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",platformcode:"KV",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD",PROCESSOR_LEVEL:"25",PROCESSOR_REVISION:"5000",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RegionCode:"APJ",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"0.40.4",TMP:"C:\\Users\\ARBAZK~1.LAP\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-DHE2J88U",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-DHE2J88U",USERNAME:"Arbaz Khan",USERPROFILE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U",VBOX_HWVIRTEX_IGNORE_SVM_IN_USE:"1",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\Arbaz Khan.LAPTOP-DHE2J88U\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-3a6143f334-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",PORT:"3000",BASE_API:"http://localhost:3001"};const G={name:"ManageComplaint",data(){return{complaints:[],searchQuery:"",currentPage:1,totalPages:0,showModal:!1,deleteModalVisible:!1,complaintIdToDelete:"",successMessage:""}},computed:{...x(["token"])},methods:{async fetchComplaints(l=!1){l&&(this.currentPage=1);try{let e=H.BASE_API+"/get/complaints";const A=await M.get(e,{headers:{Authorization:`Bearer ${this.token}`},params:{page:this.currentPage,limit:10,search:this.searchQuery}});this.complaints=A.data.complaints,this.totalPages=A.data.totalPages}catch(e){console.error(e)}},deleteComplaint(l){if(l.complaintStatus=="Resolved")this.showModal=!0;else try{this.complaintIdToDelete=l._id,this.deleteModalVisible=!0}catch(e){console.error(e)}},async confirmDeleteComplaint(){try{let l=H.BASE_API+"/delete/complaint/"+this.complaintIdToDelete;const e=await M.delete(l,{headers:{Authorization:`Bearer ${this.token}`}});this.fetchComplaints(!0),this.deleteModalVisible=!1,e.status===200&&(this.successMessage=`Complaint ${e.data.complaintId} deleted successfully!`,setTimeout(()=>{this.successMessage=""},2e3))}catch(l){console.error(l)}},changePage(l){this.currentPage=l,this.fetchComplaints()},priorityColor(l){switch(l){case"High":return"danger";case"Medium":return"warning";case"Low":return"success";default:return"secondary"}},statusColor(l){switch(l){case"Pending":return"warning";case"Withdraw":return"secondary";case"Resolved":return"success";default:return"secondary"}}},watch:{searchQuery(){this.fetchComplaints(!0)}},mounted(){this.fetchComplaints()}},j={class:"search-icon"},X={class:"scroll"};function Q(l,e,A,Y,r,p){const O=s("CModalTitle"),S=s("CModalHeader"),E=s("CModalBody"),u=s("CButton"),f=s("CModalFooter"),b=s("CModal"),v=s("CCol"),U=s("CRow"),N=s("CFormInput"),g=s("CIcon"),w=s("CInputGroup"),d=s("CTableHeaderCell"),h=s("CTableRow"),J=s("CTableHead"),C=s("CTableDataCell"),T=s("CBadge"),K=s("CTableBody"),F=s("CTable"),D=s("CPaginationItem"),k=s("CPagination"),z=s("CAlert"),W=s("CContainer");return m(),c(W,{class:"CContainer"},{default:o(()=>[a(b,{style:{color:"#d9534f"},visible:r.deleteModalVisible,onClose:e[1]||(e[1]=n=>r.deleteModalVisible=!1)},{default:o(()=>[a(S,null,{default:o(()=>[a(O,null,{default:o(()=>e[8]||(e[8]=[t("Delete Complaint")])),_:1})]),_:1}),a(E,null,{default:o(()=>e[9]||(e[9]=[P("h6",null,"Are you sure you want to delete this Complaint?",-1)])),_:1}),a(f,null,{default:o(()=>[a(u,{color:"danger",class:"text-white",onClick:p.confirmDeleteComplaint},{default:o(()=>e[10]||(e[10]=[t(" Delete ")])),_:1},8,["onClick"]),a(u,{color:"secondary",onClick:e[0]||(e[0]=n=>r.deleteModalVisible=!1)},{default:o(()=>e[11]||(e[11]=[t(" Cancel ")])),_:1})]),_:1})]),_:1},8,["visible"]),a(b,{style:{color:"#d9534f"},visible:r.showModal,onClose:e[3]||(e[3]=n=>r.showModal=!1)},{default:o(()=>[a(S,null,{default:o(()=>[a(O,null,{default:o(()=>e[12]||(e[12]=[t("Cannot Delete Resolved Complaint")])),_:1})]),_:1}),a(E,null,{default:o(()=>e[13]||(e[13]=[P("h6",null,"You cannot delete this complaint because it has already been resolved.",-1)])),_:1}),a(f,null,{default:o(()=>[a(u,{color:"secondary",onClick:e[2]||(e[2]=n=>r.showModal=!1)},{default:o(()=>e[14]||(e[14]=[t(" Close ")])),_:1})]),_:1})]),_:1},8,["visible"]),a(U,{class:"mb-4"},{default:o(()=>[a(v,null,{default:o(()=>e[15]||(e[15]=[P("h4",null,"Complaints List",-1)])),_:1})]),_:1}),a(U,{class:"mb-4"},{default:o(()=>[a(w,null,{default:o(()=>[a(N,{class:"ps-5",placeholder:"Search by category, priority, complaint recipient, raised by or status",modelValue:r.searchQuery,"onUpdate:modelValue":e[4]||(e[4]=n=>r.searchQuery=n),onInput:e[5]||(e[5]=n=>p.fetchComplaints(!0))},null,8,["modelValue"]),P("span",j,[a(g,{icon:"cil-search"})])]),_:1})]),_:1}),P("div",X,[a(F,{responsive:"",class:"my-0 bordered"},{default:o(()=>[a(J,null,{default:o(()=>[a(h,null,{default:o(()=>[a(d,{scope:"col"},{default:o(()=>e[16]||(e[16]=[t("S.No")])),_:1}),a(d,{scope:"col"},{default:o(()=>e[17]||(e[17]=[t("Category")])),_:1}),a(d,{scope:"col"},{default:o(()=>e[18]||(e[18]=[t("Priority")])),_:1}),a(d,{scope:"col"},{default:o(()=>e[19]||(e[19]=[t("Complaint Recipient")])),_:1}),a(d,{scope:"col"},{default:o(()=>e[20]||(e[20]=[t("Raised By")])),_:1}),a(d,{scope:"col"},{default:o(()=>e[21]||(e[21]=[t("Complaint Status")])),_:1}),a(d,{scope:"col"},{default:o(()=>e[22]||(e[22]=[t("Action")])),_:1})]),_:1})]),_:1}),a(K,null,{default:o(()=>[(m(!0),L(I,null,R(r.complaints,(n,y)=>(m(),c(h,{key:n._id},{default:o(()=>[a(C,null,{default:o(()=>[t(i((r.currentPage-1)*10+y+1),1)]),_:2},1024),a(C,null,{default:o(()=>[t(i(n.category),1)]),_:2},1024),a(C,null,{default:o(()=>[a(T,{color:p.priorityColor(n.priority),class:"p-2",style:{width:"70px"}},{default:o(()=>[t(i(n.priority),1)]),_:2},1032,["color"])]),_:2},1024),a(C,null,{default:o(()=>[t(i(n.complaintRecipient.firstName)+" "+i(n.complaintRecipient.lastName),1)]),_:2},1024),a(C,null,{default:o(()=>[t(i(n.complaintBy.firstName)+" "+i(n.complaintBy.lastName),1)]),_:2},1024),a(C,null,{default:o(()=>[a(T,{color:p.statusColor(n.complaintStatus),class:"p-2",style:{width:"70px"}},{default:o(()=>[t(i(n.complaintStatus),1)]),_:2},1032,["color"])]),_:2},1024),a(C,null,{default:o(()=>[a(u,{class:"px-2 py-1",color:"dark",onClick:Z=>p.deleteComplaint(n),title:"Delete Complaint"},{default:o(()=>[a(g,{icon:"cil-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),r.totalPages>1?(m(),c(k,{key:0,style:{cursor:"pointer"},"aria-label":"Page navigation example",align:"center"},{default:o(()=>[r.currentPage>1?(m(),c(D,{key:0,onClick:e[6]||(e[6]=n=>p.changePage(r.currentPage-1))},{default:o(()=>e[23]||(e[23]=[t("Previous")])),_:1})):_("",!0),(m(!0),L(I,null,R(r.totalPages,n=>(m(),c(D,{key:n,onClick:y=>p.changePage(n)},{default:o(()=>[t(i(n),1)]),_:2},1032,["onClick"]))),128)),r.currentPage<r.totalPages?(m(),c(D,{key:1,onClick:e[7]||(e[7]=n=>p.changePage(r.currentPage+1))},{default:o(()=>e[24]||(e[24]=[t("Next")])),_:1})):_("",!0)]),_:1})):_("",!0),a(B,{name:"slide-fade"},{default:o(()=>[r.successMessage?(m(),c(z,{key:0,color:"success",class:"d-flex align-items-center mt-2 alert-slide"},{default:o(()=>[a(g,{icon:"cil-check-circle",class:"flex-shrink-0 me-2",width:"24",height:"24"}),t(" "+i(r.successMessage),1)]),_:1})):_("",!0)]),_:1})]),_:1})}const $=V(G,[["render",Q],["__scopeId","data-v-06307706"]]);export{$ as default};
